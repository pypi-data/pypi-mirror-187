<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_ce" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.ce</field>
        <field name="model">res.config.settings</field>
        <field name="priority" eval="10"/>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('settings')]" position="inside">
                <div class="app_settings_block" data-string="ce" string="Comunitats Energètiques" data-key="ce" groups="ce.group_ce_admin">
                    <h2 attrs="{'invisible': [('company_id','!=', 1)]}">Global platform parameters</h2>
                    <div class="row mt16 o_settings_container" name="title_setting_container_1" attrs="{'invisible': [('company_id','!=', 1)]}">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ck_server_url"/>
                                <div class="text-muted">
                                    URL to reach the Keycloac server
                                </div>
                                <field name="ck_server_url"/>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ck_platform_oauth_provider_id"/>
                                <div class="text-muted">
                                    Oauth provider to get admin inter-realms capabilities throw keycloak REST API.
                                    Use this provider to perform actions as creation of new realms.
                                    In Odoo this provider is only available on the 'coordinator' odoo company, under users that have
                                    the Odoo group of 'Platform admins'. The realm must be 'master'. The client 'admin-cli'.
                                    The 'superuser' must bé a super-admin full administrator user of KC (realm master), but
                                    we suggest to create a specific one in KC related to this concrete Odoo instance (platform).
                                </div>
                                <field name="ck_platform_oauth_provider_id"/>
                            </div>
                        </div> 
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ck_user_group_mapped_to_odoo_group_ce_member"/>
                                <div class="text-muted">
                                    Name of the KC 'user group' related to CE member users.
                                    Must be the same in all the existing KC realms/clients.
                                </div>
                                <field name="ck_user_group_mapped_to_odoo_group_ce_member"/>
                                <label for="ck_role_mapped_to_odoo_group_ce_member"/>
                                <div class="text-muted">
                                    Name of the KC 'role' assigned to the above KC 'user group'.
                                    Must be the same in all the existing KC realms/clients.
                                </div>
                                <field name="ck_role_mapped_to_odoo_group_ce_member"/>
                                <label for="odoo_group_ce_member"/>
                                <div class="text-muted">
                                    Name of the Odoo 'user role' mapped to the above KC entities (user group/role).
                                </div>
                                <field name="odoo_group_ce_member"/>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ck_user_group_mapped_to_odoo_group_ce_admin"/>
                                <div class="text-muted">
                                    Name of the KC 'user group' related to CE admin users.
                                    Must be the same in all the existing KC realms/clients.
                                </div>
                                <field name="ck_user_group_mapped_to_odoo_group_ce_admin"/><br/>
                                <label for="ck_role_mapped_to_odoo_group_ce_admin"/>
                                <div class="text-muted">
                                    Name of the KC 'role' assigned to the above KC 'user group'.
                                    Must be the same in all the existing KC realms/clients.
                                </div>
                                <field name="ck_role_mapped_to_odoo_group_ce_admin"/>
                                <label for="odoo_group_ce_admin"/>
                                <div class="text-muted">
                                    Name of the Odoo 'user role' mapped to the above KC entities (user group/role).
                                </div>
                                <field name="odoo_group_ce_admin"/>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ck_user_group_mapped_to_odoo_group_platform_admin"/>
                                <div class="text-muted">
                                    Name of the KC 'user group' related to Platform admin users.
                                    Must be the same in all the existing KC realms/clients.
                                </div>
                                <field name="ck_user_group_mapped_to_odoo_group_platform_admin"/>
                                <label for="ck_role_mapped_to_odoo_group_platform_admin"/>
                                <div class="text-muted">
                                    Name of the KC 'role' assigned to the above KC 'user group'.
                                    Must be the same in all the existing KC realms/clients.
                                </div>
                                <field name="ck_role_mapped_to_odoo_group_platform_admin"/>
                                <label for="odoo_group_platform_admin"/>
                                <div class="text-muted">
                                    Name of the Odoo 'user role' mapped to the above KC entities (user group/role).
                                </div>
                                <field name="odoo_group_platform_admin"/>
                            </div>
                        </div>
                    </div>
                    <h2>Company dependent parameters</h2>
                    <div class="row mt16 o_settings_container" name="title_setting_container_2">
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="kc_realm"/>
                                <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." aria-label="Values set here are company-specific." groups="base.group_multi_company" role="img"/>
                                <div class="text-muted">
                                    Your filed description
                                </div>
                                <field name="kc_realm"/>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ce_admin_key_cloak_provider_id"/>
                                <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." aria-label="Values set here are company-specific." groups="base.group_multi_company" role="img"/>
                                <div class="text-muted">
                                    Your filed description
                                </div>
                                <field name="ce_admin_key_cloak_provider_id"/>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 o_setting_box" >
                            <div class="o_setting_left_pane">
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="auth_ce_key_cloak_provider_id"/>
                                <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." aria-label="Values set here are company-specific." groups="base.group_multi_company" role="img"/>
                                <div class="text-muted">
                                    Your filed description
                                </div>
                                <field name="auth_ce_key_cloak_provider_id"/>
                            </div>
                        </div>
                    </div>
                </div>
            </xpath>
        </field>
    </record>

    <record id="action_ce_configuration" model="ir.actions.act_window">
        <field name="name">Comunitats Energètiques Settings</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{'module' : 'ce'}</field>
    </record>

</odoo>