window.bubble_train=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var n,o=function(){var t=document.currentScript;if(!t){for(var e=document.getElementsByTagName("script"),r=[],n=0;n<e.length;n++)r.push(e[n]);t=(r=r.filter((function(t){return!t.async&&!t.text&&!t.textContent}))).slice(-1)[0]}return t};if(Object.defineProperty(r,"p",{get:(n=o().src.split("/").slice(0,-1).join("/")+"/",function(){return n})}),"undefined"!=typeof jsonpScriptSrc){var i=jsonpScriptSrc;jsonpScriptSrc=function(t){var e=function(t){return/\/_dash-component-suites\//.test(t.src)}(o()),r=i(t);if(!e)return r;var n=r.split("/"),s=n.slice(-1)[0].split(".");return s.splice(1,0,"v0_0_10m1674439452"),n.splice(-1,1,s.join(".")),n.join("/")}}return r(r.s=8)}([function(t,e){t.exports=window.PropTypes},function(t,e){t.exports=window.React},,function(t,e,r){var n=r(4);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};r(6)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){(e=r(5)(!1)).push([t.i,".draggable_header {\r\n    background: #ccc;\r\n    width: 100%;\r\n    user-select: none;\r\n}\r\n\r\n.draggable_panel {\r\n    overflow: hidden;\r\n    resize: both;\r\n    position: absolute;\r\n\r\n    box-shadow: 0px 0px 50px 1px #e8e8e8;\r\n    user-select: none;\r\n\r\n    z-index: 9;\r\n}\r\n\r\n.draggable_content {\r\n    overflow: auto;\r\n    position: absolute;\r\n    background: white;\r\n    width: 100%;\r\n    height: 92%;\r\n    user-select: none;\r\n}\r\n\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 5px;\r\n  height: 5px;\r\n}\r\n\r\n.draggable_content:hover::-webkit-scrollbar {\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  box-shadow: inset 0 0 1px #ccc;\r\n  border-radius: 0px;\r\n}\r\n\r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: #e0e0e0;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #b5b3b0;\r\n}\r\n",""]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var o=(s=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(i).concat([o]).join("\n")}var s,a,u;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);n&&o[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),e.push(u))}},e}},function(t,e,r){var n,o,i={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var n=a.call(this,t,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),c=null,f=0,l=[],p=r(7);function d(t,e){for(var r=0;r<t.length;r++){var n=t[r],o=i[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(_(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(_(n.parts[s],e));i[n.id]={id:n.id,refs:1,parts:a}}}}function h(t,e){for(var r=[],n={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function y(t,e){var r=u(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(t.insertAt.before,r);r.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return b(e,t.attrs),y(t,e),e}function b(t,e){Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])}))}function _(t,e){var r,n,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var s=f++;r=c||(c=g(e)),n=w.bind(null,r,s,!1),o=w.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),y(t,e),e}(e),n=x.bind(null,r,e),o=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(e),n=O.bind(null,r),o=function(){v(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=h(t,e);return d(r,e),function(t){for(var n=[],o=0;o<r.length;o++){var s=r[o];(a=i[s.id]).refs--,n.push(a)}t&&d(h(t,e),e);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete i[a.id]}}}};var m,P=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function w(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=P(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function O(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function x(t,e,r){var n=r.css,o=r.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(n=p(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,r){"use strict";r.r(e);var n=r(1),o=r.n(n),i=r(0),s=r.n(i);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(s,t);var e,r,n,i=f(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,t)).state=t,e.setProps=e.setProps.bind(p(e)),e}return e=s,(r=[{key:"setProps",value:function(t){this.props.setProps?this.props.setProps(t):this.setState(t)}},{key:"getProps",value:function(t){return this.props.setProps?this.props[t]:this.state[t]}},{key:"render",value:function(){var t=this.props,e=t.id,r=(t.label,t.setProps,t.value,{width:this.getProps("width"),height:this.getProps("height"),overflow:this.getProps("overflow")});return o.a.createElement("div",{id:e,style:r},this.getProps("children"))}}])&&u(e.prototype,r),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.Component);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=P(t);if(e){var o=P(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}h.defaultProps={id:s.a.string.isRequired,width:"100%",height:"100%",overflow:"auto"},h.propTypes={id:s.a.string,width:s.a.string,height:s.a.string,overflow:s.a.string};var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(s,t);var e,r,n,i=b(s);function s(t){var e,r,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=i.call(this,t),r=m(e),o=function(t){var r=t.target.value;e.props.setProps({value:r})},(n=w(n="handleInputChange"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,e.state={value:"default"},e}return e=s,(r=[{key:"render",value:function(){var t=this.props;return t.id,t.label,t.setProps,t.value,o.a.createElement("div",null,o.a.createElement("label",null," ",this.props.label," "),o.a.createElement("input",{value:this.props.value,onChange:this.handleInputChange}),o.a.createElement("p",null," ",this.props.value," "))}}])&&v(e.prototype,r),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.Component);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=T(t);if(e){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===x(e)?e:String(e)}function U(t,e,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;1==i&&(t.clearRect(0,0,s,a),e=u,r=c),t.beginPath(),t.strokeStyle="black",t.lineWidth=1,t.moveTo(e,r),t.lineTo(n,o),t.stroke(),t.closePath()}function D(t,e){return"x: "+String(t)+", y: "+String(e)}O.defaultProps={label:"Text Input"},O.propTypes={id:s.a.string,label:s.a.string.isRequired,value:s.a.string,setProps:s.a.func};var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(s,t);var e,r,n,i=S(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),C(R(e=i.call(this,t)),"hlMouseDown",(function(t){e.setProps({x:t.nativeEvent.offsetX}),e.setProps({y:t.nativeEvent.offsetY}),e.setProps({isDrawing:!0}),e.setProps({value:D(e.state.x,e.state.y),x0:t.nativeEvent.offsetX,y0:t.nativeEvent.offsetY})})),C(R(e),"hlMouseMove",(function(t){e.state.isDrawing&&(U(e.ctx,e.state.x,e.state.y,t.nativeEvent.offsetX,t.nativeEvent.offsetY,e.state.refresh,e.w,e.h,e.state.x0,e.state.y0),e.setProps({x:t.nativeEvent.offsetX}),e.setProps({y:t.nativeEvent.offsetY})),e.setProps({value:D(e.state.x,e.state.y)})})),C(R(e),"hlMouseUp",(function(t){e.state.isDrawing&&(console.log(t),console.log(e.c_ref.current),U(e.ctx,e.state.x,e.state.y,t.nativeEvent.offsetX,t.nativeEvent.offsetY,e.state.refresh,e.w,e.h,e.state.x0,e.state.y0),e.setProps({x:0}),e.setProps({y:0}),e.setProps({x0:0}),e.setProps({y0:0}),e.setProps({isDrawing:!1})),e.setProps({value:"here2"})})),C(R(e),"handleChange",(function(){e.setProps({refresh:!e.state.refresh})})),e.state={value:"",isDrawing:!1,x:0,y:0,x0:0,y0:0,refresh:t.refresh},console.log(e.state),e.setProps=e.setProps.bind(R(e)),e.c_ref=o.a.createRef(),e}return e=s,(r=[{key:"componentDidMount",value:function(){this.ctx=this.c_ref.current.getContext("2d"),this.w=this.c_ref.current.width,this.h=this.c_ref.current.height}},{key:"setProps",value:function(t){this.setState(t)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.refresh,onChange:this.handleChange}),"Do Refresh?"),o.a.createElement("div",null,this.state.value),o.a.createElement("canvas",{id:"myPics",width:"500px",height:"500px",onMouseDown:this.hlMouseDown,onMouseUp:this.hlMouseUp,onMouseMove:this.hlMouseMove,ref:this.c_ref}))}}])&&j(e.prototype,r),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.Component);I.defaultProps={refresh:!1},I.propTypes={refresh:s.a.bool};r(3);function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function A(t,e){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=z(t);if(e){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return X(this,r)}}function X(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Y(t)}function Y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e,r){return(e=W(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t){var e=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===B(e)?e:String(e)}var V={};function H(){for(var t in V)V[t]()}function $(t,e,r,n,o,i){var s=(r-1)*n/2;t.cx.baseVal.value=o-s+e*n,t.cy.baseVal.value=i}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(s,t);var e,r,n,i=N(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),q(Y(e=i.call(this,t)),"set_dot_refresh",(function(t){e.dot_refresh.push(t)})),q(Y(e),"isMouseInBound",(function(t){var r=e.ref_dh.current.getBoundingClientRect();t.clientX>=r.left&&(t.clientX,r.right)})),q(Y(e),"hlDragStart",(function(t){console.log("drag started");var r=e.ref1.current;if(r){var n=r.getBoundingClientRect(),o=n.x,i=n.y,s=o-parseInt(r.style.left),a=i-parseInt(r.style.top);e.setProps({cx0:s}),e.setProps({cy0:a}),e.setProps({x0:t.nativeEvent.offsetX}),e.setProps({y0:t.nativeEvent.offsetY}),H()}})),q(Y(e),"do_refresh",(function(){for(var t in e.dot_refresh)e.dot_refresh[t]()})),q(Y(e),"hlDrag",(function(t){console.log("dragging");var r=e.ref1.current;if(r){var n=r.getBoundingClientRect(),o=n.x,i=n.y,s=Math.max(0,o+t.nativeEvent.offsetX-e.getProps("x0")-e.getProps("cx0")),a=Math.max(0+e.getProps("edge_offset"),i+t.nativeEvent.offsetY-e.getProps("y0")-e.getProps("cy0"));for(var u in r.style.left="".concat(s,"px"),r.style.top="".concat(a,"px"),e.in_refs)$(e.in_refs[u],u,Object.keys(e.in_refs).length,e.getProps("in_dot_distance"),s+parseInt(r.style.width)/2,a-e.getProps("in_dot_offset"));for(var c in e.out_refs)$(e.out_refs[c],c,Object.keys(e.out_refs).length,e.getProps("out_dot_distance"),s+parseInt(r.style.width)/2,a+parseInt(r.style.height)+e.getProps("out_dot_offset"));H()}})),q(Y(e),"hlDragEnd",(function(t){console.log("drag ended");var r=e.ref1.current;if(r){var n=r.getBoundingClientRect(),o=n.x,i=n.y,s=Math.max(0,o+t.nativeEvent.offsetX-e.getProps("x0")-e.getProps("cx0")),a=Math.max(0+e.getProps("edge_offset"),i+t.nativeEvent.offsetY-e.getProps("y0")-e.getProps("cy0"));for(var u in r.style.left="".concat(s,"px"),r.style.top="".concat(a,"px"),e.in_refs)$(e.in_refs[u],u,Object.keys(e.in_refs).length,e.getProps("in_dot_distance"),s+parseInt(r.style.width)/2,a-e.getProps("in_dot_offset"));for(var c in e.out_refs)$(e.out_refs[c],c,Object.keys(e.out_refs).length,e.getProps("out_dot_distance"),s+parseInt(r.style.width)/2,a+parseInt(r.style.height)+e.getProps("out_dot_offset"));H()}})),e.state=t,e.setProps=e.setProps.bind(Y(e)),e.ref1=o.a.createRef(),e.resizeObserver=null,e.ref_dh=o.a.createRef(),e.dot_refresh=[],e.in_refs={},e.out_refs={},e}return e=s,(r=[{key:"setProps",value:function(t){this.props.setProps?this.props.setProps(t):this.setState(t)}},{key:"getProps",value:function(t){return this.props.setProps?this.props[t]:this.state[t]}},{key:"componentDidMount",value:function(){var t=this;this.resizeObserver=new ResizeObserver((function(e){var r=100*(1-t.getProps("hdr_h")/e[0].contentRect.height);for(var n in t.setProps({cnt_h:r+"%"}),t.in_refs)$(t.in_refs[n],n,Object.keys(t.in_refs).length,t.getProps("in_dot_distance"),parseInt(t.ref1.current.style.left)+parseInt(t.ref1.current.style.width)/2,parseInt(t.ref1.current.style.top)-t.getProps("in_dot_offset"));for(var o in t.out_refs)$(t.out_refs[o],o,Object.keys(t.out_refs).length,t.getProps("out_dot_distance"),parseInt(t.ref1.current.style.left)+parseInt(t.ref1.current.style.width)/2,parseInt(t.ref1.current.style.top)+parseInt(t.ref1.current.style.height)+t.getProps("out_dot_offset"));H()})),this.resizeObserver.observe(this.ref1.current),V[this.getProps("id")]=this.do_refresh}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),delete V[this.getProps("id")]}},{key:"get_in_set_ref_func",value:function(t){var e=this;return function(r){e.in_refs[t]=r}}},{key:"get_out_set_ref_func",value:function(t){var e=this;return function(r){e.out_refs[t]=r}}},{key:"render",value:function(){var t=this,e=this.props.children,r=void 0===e?[]:e;r=Array.isArray(r)?r:[r];var n={width:this.getProps("width"),height:this.getProps("height"),left:this.getProps("left"),top:this.getProps("top")},i=this.getProps("input_ids"),s=[];for(var a in i)s.push({id:i[a],dot_ref:this.get_in_set_ref_func(a)});var u=[];for(var c in this.getProps("output_ids"))u.push({id:this.getProps("output_ids")[c],output_target_list:this.getProps("output_target_lists")[c],output_target_pl_list:this.getProps("output_target_pl_lists")[c],dot_ref:this.get_out_set_ref_func(c)});return o.a.createElement("div",null,s.map((function(e){return o.a.createElement(St,{key:e.id,id:e.id,dot_ref:e.dot_ref,set_refresh:t.set_dot_refresh})})),u.map((function(e){return o.a.createElement(St,{key:e.id,id:e.id,target_list:e.output_target_list,target_pl_list:e.output_target_pl_list,dot_ref:e.dot_ref,set_refresh:t.set_dot_refresh})})),o.a.createElement("div",{id:this.getProps("id"),className:"draggable_panel",style:n,ref:this.ref1},o.a.createElement("div",{className:"draggable_header",title:this.getProps("tooltip"),onDrag:this.hlDrag,onDragStart:this.hlDragStart,onDragEnd:this.hlDragEnd,draggable:!0,style:{height:this.getProps("hdr_h")},ref:this.ref_dh}),o.a.createElement("div",{className:"draggable_content",style:{height:this.getProps("cnt_h")}},r)))}}])&&L(e.prototype,r),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.Component);J.defaultProps={children:[],width:"100px",height:"100px",left:"50px",top:"50px",cx0:0,cy0:0,x0:0,y0:0,cnt_h:"100%",hdr_h:20,input_ids:[],output_ids:[],output_target_lists:[],output_target_pl_lists:[],in_dot_offset:10,in_dot_distance:20,out_dot_offset:10,out_dot_distance:20,edge_offset:10,tooltip:null},J.propTypes={id:s.a.string.isRequired,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]),width:s.a.string,height:s.a.string,left:s.a.string,top:s.a.string,cx0:s.a.number,cy0:s.a.number,x0:s.a.number,y0:s.a.number,cnt_h:s.a.oneOfType([s.a.string,s.a.number]),hdr_h:s.a.oneOfType([s.a.string,s.a.number]),input_ids:s.a.arrayOf(s.a.string),output_ids:s.a.arrayOf(s.a.string),output_target_lists:s.a.arrayOf(s.a.arrayOf(s.a.string)),output_target_pl_lists:s.a.arrayOf(s.a.arrayOf(s.a.arrayOf(s.a.arrayOf(s.a.number)))),in_dot_offset:s.a.number,in_dot_distance:s.a.number,out_dot_offset:s.a.number,out_dot_distance:s.a.number,edge_offset:s.a.number,tooltip:s.a.string};var F={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let G;const K=new Uint8Array(16);function Q(){if(!G&&(G="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!G))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G(K)}const Z=[];for(let t=0;t<256;++t)Z.push((t+256).toString(16).slice(1));function tt(t,e=0){return(Z[t[e+0]]+Z[t[e+1]]+Z[t[e+2]]+Z[t[e+3]]+"-"+Z[t[e+4]]+Z[t[e+5]]+"-"+Z[t[e+6]]+Z[t[e+7]]+"-"+Z[t[e+8]]+Z[t[e+9]]+"-"+Z[t[e+10]]+Z[t[e+11]]+Z[t[e+12]]+Z[t[e+13]]+Z[t[e+14]]+Z[t[e+15]]).toLowerCase()}var et=function(t,e,r){if(F.randomUUID&&!e&&!t)return F.randomUUID();const n=(t=t||{}).random||(t.rng||Q)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return tt(n)};function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ut(t);if(e){var o=ut(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return st(this,r)}}function st(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return at(t)}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e,r){return(e=ft(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ft(t){var e=function(t,e){if("object"!==rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rt(e)?e:String(e)}function lt(t,e){return[e[0]-t[0],e[1]-t[1]]}function pt(t){return[-t[0],-t[1]]}function dt(t){return Math.sqrt(yt(t,t))}function ht(t,e){return t=t.length>0?t.slice(0,-1).concat([e]):[e]}function yt(t,e){return t[0]*e[0]+t[1]*e[1]}function vt(t,e){return[t[0]*e,t[1]*e]}function gt(t){if(0==dt(t))return t;if(0==t[1])return function(t){return[t[1],t[0]]}(function(t){return vt(t,1/dt(t))}(t));var e=-t[0]/t[1],r=vt([1,e],1/dt([1,e]));return t[0]*t[1]>0&&(r=pt(r)),r}function bt(t,e){var r=gt(e);yt(t,r)>0&&(r=pt(r));var n,o,i=dt(t),s=function(t,e){var r=dt(t),n=dt(e);if(0==r||0==n)return 0;var o=yt(t,e)/(r*n);return o=Math.max(-1,Math.min(1,o)),Math.acos(o),Math.acos(o)}(t,e),a=vt(r,2*i*Math.sin(s));return n=t,[(o=a)[0]+n[0],o[1]+n[1]]}function _t(t,e,r){return[t[0]+e[0]*r,t[1]+e[1]*r]}function mt(t,e){return t}function Pt(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,o=pt(lt(t,r)),i=lt(t,e),s=bt(o,i),a=_t(t,mt(pt(s)),n),u=_t(e,mt(o),n);return[a,u]}var wt={};var Ot=null,xt=null;function jt(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect();return[r.x-n.x+r.width/2,r.y-n.y+r.height/2]}function Et(t){var e=wt[t];return jt(e[0],e[1].current)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(s,t);var e,r,n,i=it(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),ct(at(e=i.call(this,t)),"update_path",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=[],n=e.getProps("target_list"),o=e.getProps("target_pl_list"),i=null,s=null;for(var a in n)i=n[a],s=o[a],r.push(e.get_path(ht(s,Et(i))));if(t)r.push(e.get_path(e.getProps("pos_list").concat([[t.offsetX,t.offsetY]])));else{var u=e.getProps("pos_list");u.length>0&&r.push(e.get_path(u))}e.setProps({path_list:r})})),ct(at(e),"do_move",(function(t){e.is_moving()&&e.update_path(t)})),ct(at(e),"do_scroll",(function(t){console.log("scrolling"),e.is_moving()?e.update_path(t):e.update_path()})),ct(at(e),"do_up",(function(t){console.log("do up"),e.is_moving()&&xt&&(e.set_target(),e.stop_moving())})),ct(at(e),"do_down",(function(t){var r,n,o;(console.log("do down"),e.is_moving())?e.setProps({pos_list:e.getProps("pos_list").concat([[t.offsetX,t.offsetY]])}):function(t,e,r){return dt(lt(t,e))<r}((r=e.ref1,n=e.getProps("r"),[(o=r.getBoundingClientRect()).x+n/2,o.y+n/2]),[t.clientX,t.clientY],e.getProps("r"))&&(Ot?(xt=e.getProps("id"),console.log("setting target id: "+xt)):(e.clean_pos_list(),Ot=e.getProps("id")))})),ct(at(e),"do_escape",(function(t){"Escape"==t.key&&e.is_moving()&&(console.log("escape"),e.stop_moving(),e.clean_pos_list())})),ct(at(e),"set_ref1",(function(t){e.getProps("dot_ref")&&e.getProps("dot_ref")(t),e.ref1=t})),e.state=t,e.ref_svg=o.a.createRef(),e}return e=s,(r=[{key:"setProps",value:function(t){this.props.setProps?this.props.setProps(t):this.setState(t)}},{key:"getProps",value:function(t){return this.props.setProps?this.props[t]:this.state[t]}},{key:"update_ref_store",value:function(){wt[this.getProps("id")]=[this.ref1,this.ref_svg]}},{key:"clean_ref_store",value:function(){console.log("deleting: "+this.getProps("id")),delete wt[this.getProps("id")]}},{key:"componentDidUpdate",value:function(){this.update_ref_store()}},{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.do_move,!1),document.addEventListener("mousedown",this.do_down,!1),document.addEventListener("mouseup",this.do_up,!1),document.addEventListener("keydown",this.do_escape,!1),window.addEventListener("scroll",this.do_scroll,!1),this.update_ref_store(),this.props.set_refresh&&this.props.set_refresh(this.update_path)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.do_move,!1),document.removeEventListener("mousedown",this.do_down,!1),document.removeEventListener("mouseup",this.do_up,!1),document.removeEventListener("keydown",this.do_escape,!1),window.removeEventListener("scroll",this.do_scroll,!1),this.clean_ref_store()}},{key:"clean_pos_list",value:function(){this.setProps({pos_list:[]}),this.update_path()}},{key:"is_moving",value:function(){return this.getProps("id")==Ot}},{key:"stop_moving",value:function(){this.is_moving()&&(Ot=null)}},{key:"get_path",value:function(t){return function(t){for(var e="",r=0;r<t.length;r++)if(0==r)e+="M ".concat(t[r][0]," ").concat(t[r][1]," ");else if(r==t.length-1)if(2==t.length)e+="L ".concat(t[r][0]," ").concat(t[r][1]," ");else{var n=Pt(t[r],t[r-1],t[r-2]);e+="S ".concat(n[0][0]," ").concat(n[0][1]," ").concat(t[r][0]," ").concat(t[r][1]," ")}else if(1==r){var o=Pt(t[r-1],t[r],t[r+1]);e+="C ".concat(o[0][0]," ").concat(o[0][1]," ").concat(o[1][0]," ").concat(o[1][1]," ").concat(t[r][0]," ").concat(t[r][1]," ")}else{var i=Pt(t[r-1],t[r],t[r+1]);e+="S ".concat(i[1][0]," ").concat(i[1][1]," ").concat(t[r][0]," ").concat(t[r][1]," ")}return e}([jt(this.ref1,this.ref_svg.current)].concat(t))}},{key:"set_path",value:function(t){if(!(t.length<=0)){var e=this.get_path(t);this.setProps({path_list:this.getProps("path_list").concat([e])})}}},{key:"set_target",value:function(){var t=null;t=this.getProps("pos_list").length>0?this.getProps("pos_list").slice(0,-1).concat([Et(xt)]):[Et(xt)];var e=[],r=[],n=this.getProps("target_list"),o=this.getProps("target_pl_list"),i=!1;for(var s in n)n[s]==xt?(e.push(n[s]),r.push(t),i=!0):(e.push(n[s]),r.push(o[s]));i||(e.push(xt),r.push(t)),this.setProps({target_list:e,target_pl_list:r}),this.clean_pos_list(),xt=null}},{key:"render",value:function(){var t=this;return o.a.createElement("svg",{height:"100%",width:"100%",style:{position:"absolute",zIndex:8},ref:this.ref_svg},o.a.createElement("circle",{id:et(),cx:this.getProps("x"),cy:this.getProps("y"),r:this.getProps("r"),fill:this.getProps("color"),ref:this.set_ref1}),this.getProps("path_list").map((function(e){return o.a.createElement("path",{key:et(),d:e,stroke:t.getProps("stroke"),strokeWidth:t.getProps("strokeWidth"),fill:t.getProps("fill")})})))}}])&&nt(e.prototype,r),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.Component);St.defaultProps={stroke:"#ccc",strokeWidth:"3",fill:"none",x:100,y:100,r:8,color:"#ccc",pos_list:[],path_list:[],target_list:[],target_pl_list:[]},St.propTypes={id:s.a.string.isRequired,stroke:s.a.string,strokeWidth:s.a.string,fill:s.a.string,x:s.a.number,y:s.a.number,r:s.a.number,color:s.a.string,pos_list:s.a.arrayOf(s.a.arrayOf(s.a.number)),path_list:s.a.arrayOf(s.a.string),target_list:s.a.arrayOf(s.a.string),target_pl_list:s.a.arrayOf(s.a.arrayOf(s.a.arrayOf(s.a.number)))},r.d(e,"BubbleTrain",(function(){return h})),r.d(e,"TextInput",(function(){return O})),r.d(e,"DrawCanvas",(function(){return I})),r.d(e,"DraggablePanel",(function(){return J})),r.d(e,"Connector",(function(){return St}))}]);
//# sourceMappingURL=bubble_train.min.js.map
//# sourceMappingURL=bubble_train.min.js.map